(function($){"use strict";$(document).ready(function(){if($('body').hasClass('lsvr-accessibility')){$(document).on('mousedown',function(){$('body').addClass('lsvr-using-mouse');$('body').removeClass('lsvr-using-keyboard')});$(document).on('keyup',function(e){if(e.key==="Tab"){$('body').addClass('lsvr-using-keyboard');$('body').removeClass('lsvr-using-mouse')}})}if($.fn.lsvrTownpressMapLeaflet&&'object'===typeof L){$('.c-map--leaflet .c-map__canvas').each(function(){$(this).lsvrTownpressMapLeaflet()})}if($.fn.lsvrTownpressMapGmaps){$('.c-map--gmaps .c-map__canvas').each(function(){$(this).lsvrTownpressMapGmaps()})}$('.header-menu').each(function(){var $this=$(this);function resetMenu(){$this.find('.header-menu__item').removeClass('header-menu__item--hover header-menu__item--active');$this.find('.header-menu__item-link').attr('aria-expanded',false);$this.find('.header-menu__submenu').removeAttr('style').attr('aria-expanded',false)}$this.find('.header-menu__item-link').each(function(){$(this).on('click',function(){if($(this).parent().find('> .header-menu__submenu').length<1){resetMenu()}})});$this.find('.header-menu__item--dropdown .header-menu__submenu--level-0, .header-menu__item--dropdown .header-menu__submenu--level-1, .header-menu__item--megamenu .header-menu__submenu--level-0').each(function(){var $submenu=$(this),$parent=$(this).parent(),$link=$parent.find('> .header-menu__item-link');function showSubmenu(){$parent.addClass('header-menu__item--hover');$submenu.show();$link.attr('aria-expanded',true);$submenu.attr('aria-expanded',true)}function hideSubmenu(){$parent.removeClass('header-menu__item--hover');$submenu.hide();$link.attr('aria-expanded',false);$submenu.attr('aria-expanded',false)}$parent.on('mouseover focus',function(){showSubmenu()});$parent.on('mouseleave blur',function(){hideSubmenu()});$link.on('click',function(event){if(!$parent.hasClass('header-menu__item--hover')){$parent.siblings('.header-menu__item.header-menu__item--hover').each(function(){$(this).removeClass('header-menu__item--hover');$(this).find('> .header-menu__submenu').hide();$(this).find('> .header-menu__item-link').attr('aria-expanded',false);$(this).find('> .header-menu__submenu').attr('aria-expanded',false)});showSubmenu();$('html').on('click.lsvrTownpressHeaderMenuCloseSubmenuOnClickOutside',function(e){hideSubmenu();$('html').unbind('click.lsvrTownpressHeaderMenuCloseSubmenuOnClickOutside')});$parent.on('click touchstart',function(e){e.stopPropagation()});return false}hideSubmenu()})});$(document).on('keyup.lsvrTownpressHeaderMenuCloseSubmenuOnEscKey',function(e){if(e.key==="Escape"){if($('*:focus').closest('.header-menu__item--hover').length>0){$('*:focus').closest('.header-menu__item--hover').each(function(){$(this).removeClass('header-menu__item--hover');$(this).find('> .header-menu__submenu').hide();$(this).find('> .header-menu__item-link').attr('aria-expanded',false);$(this).find('> .header-menu__submenu').attr('aria-expanded',false);$(this).find('> .header-menu__item-link').focus()})}else{$('.header-menu__item--hover').each(function(){$(this).removeClass('header-menu__item--hover');$(this).find('> .header-menu__submenu').hide();$(this).find('> .header-menu__item-link').attr('aria-expanded',false);$(this).find('> .header-menu__submenu').attr('aria-expanded',false)})}}});$(document).on('lsvrTownpressScreenTransition',function(){resetMenu()})});$('.header-navbar--sticky').each(function(){if($.fn.lsvrTownpressGetMediaQueryBreakpoint()>991){var $navbar=$(this),$placeholder=$('.header-navbar__placeholder'),navbarHeight=$navbar.outerHeight();$placeholder.css('height',navbarHeight)}});$('.header-map').each(function(){var $this=$(this),$canvas=$this.find('.header-map__canvas'),$close=$this.find('.header-map__close'),$toggle=$('.header-map-toggle'),$spinner=$this.find('.c-spinner'),mapPlatform=$canvas.data('map-platform'),map;$toggle.on('click',function(){$this.slideToggle(100,function(){if($this.hasClass('header-map--loading')){if('gmaps'===mapPlatform&&$.fn.lsvrTownpressMapGmaps){$canvas.lsvrTownpressMapGmaps()}else if('leaflet'===mapPlatform&&$.fn.lsvrTownpressMapLeaflet&&'object'===typeof L){$canvas.lsvrTownpressMapLeaflet()}}else if($this.is(':visible')){if(typeof $canvas.data('map')!=='undefined'){map=$canvas.data('map');if('gmaps'===mapPlatform&&'object'==typeof map&&'object'===typeof google&&'object'===typeof google.maps){google.maps.event.trigger(map,'resize')}else if('leaflet'===mapPlatform&&'object'==typeof map&&'function'===typeof map['invalidateSize']){map.invalidateSize()}}}$toggle.toggleClass('header-map-toggle--active');$this.removeClass('header-map--loading')});$('#header').toggleClass('header--map-open');$('body').toggleClass('lsvr-header-map-open')});$close.on('click',function(){$this.slideUp(100);$toggle.removeClass('header-map-toggle--active');$('#header').removeClass('header--map-open');$('body').removeClass('lsvr-header-map-open')})});$('.header-toolbar-toggle__menu-button').each(function(){$(this).on('click',function(){$('.header-toolbar-toggle').toggleClass('header-toolbar-toggle--active');$(this).toggleClass('header-toolbar-toggle__menu-button--active');$('.header-toolbar').slideToggle(200);if($(this).hasClass('header-toolbar-toggle__menu-button--active')){$(this).attr('aria-expanded',true)}else{$(this).attr('aria-expanded',false)}})});$('.header-mobile-menu').each(function(){var expandSubmenuLabel=$(this).data('label-expand-submenu'),collapseSubmenuLabel=$(this).data('label-collapse-submenu');$(this).find('.header-mobile-menu__toggle').each(function(){var $toggle=$(this),$parent=$toggle.parent(),$submenu=$parent.find('> .header-mobile-menu__submenu');$toggle.on('click',function(event){$toggle.toggleClass('header-mobile-menu__toggle--active');$parent.toggleClass('header-mobile-menu__item--active');$submenu.slideToggle(200);if($toggle.hasClass('header-mobile-menu__toggle--active')){$toggle.attr('aria-label',collapseSubmenuLabel);$toggle.attr('aria-expanded',true);$submenu.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandSubmenuLabel);$toggle.attr('aria-expanded',false);$submenu.attr('aria-expanded',false)}})});$(document).on('keyup.lsvrTownpressHeaderMobileMenuCloseSubmenuOnEscKey',function(e){if(e.key==="Escape"){if($('*:focus').closest('.header-mobile-menu__item--active').length>0){$('*:focus').closest('.header-mobile-menu__item--active').each(function(){$(this).removeClass('header-mobile-menu__item--active');$(this).find('> .header-mobile-menu__submenu').hide();$(this).find('> .header-mobile-menu__toggle').removeClass('header-mobile-menu__toggle--active');$(this).find('> .header-mobile-menu__toggle').attr('aria-label',expandSubmenuLabel);$(this).find('> .header-mobile-menu__toggle').attr('aria-expanded',false);$(this).find('> .header-mobile-menu__submenu').attr('aria-expanded',false);$(this).find('> .header-mobile-menu__toggle').focus()})}else{$('.header-mobile-menu__item').each(function(){$(this).removeClass('header-mobile-menu__item--active');$(this).find('> .header-mobile-menu__submenu').hide();$(this).find('> .header-mobile-menu__toggle').removeClass('header-mobile-menu__toggle--active');$(this).find('> .header-mobile-menu__toggle').attr('aria-label',expandSubmenuLabel);$(this).find('> .header-mobile-menu__toggle').attr('aria-expanded',false);$(this).find('> .header-mobile-menu__submenu').attr('aria-expanded',false)})}}});$(document).on('lsvrTownpressScreenTransition',function(){$('.header-toolbar-toggle').removeClass('header-toolbar-toggle--active');$('.header-toolbar-toggle__menu-button').removeClass('header-toolbar-toggle__menu-button--active').attr('aria-expanded',false);$('.header-toolbar').removeAttr('style');$('.header-mobile-menu__item--active').removeClass('header-mobile-menu__item--active');$('.header-mobile-menu__submenu').removeAttr('style').attr('aria-expanded',false);$('.header-mobile-menu__toggle--active').removeClass('header-mobile-menu__toggle--active');$('.header-mobile-menu__toggle').attr('aria-expanded',false).attr('aria-label',$('.header-mobile-menu').data('label-expand-submenu'))})});$('.header-background--slideshow, .header-background--slideshow-home').each(function(){var $this=$(this),$images=$this.find('.header-background__image'),slideshowSpeed=$this.data('slideshow-speed')?parseInt($this.data('slideshow-speed'))*1000:10,animationSpeed=2000;if($images.length>1){$images.filter('.header-background__image--default').addClass('header-background__image--active');var $active=$images.filter('.header-background__image--active'),$next;var changeImage=function(){if($active.next().length>0){$next=$active.next()}else{$next=$images.first()}$active.fadeOut(animationSpeed,function(){$(this).removeClass('header-background__image--active')});$next.fadeIn(animationSpeed,function(){$(this).addClass('header-background__image--active');$active=$(this)});setTimeout(function(){changeImage()},slideshowSpeed)};if($.fn.lsvrTownpressGetMediaQueryBreakpoint()>1199){setTimeout(function(){changeImage()},slideshowSpeed)}}});if($.fn.masonry&&$.fn.imagesLoaded){$('.lsvr_gallery-post-archive .lsvr-grid--masonry, .lsvr_gallery-post-single .post__image-list--masonry').each(function(){var $this=$(this),isRTL=$('html').attr('dir')&&'rtl'===$('html').attr('dir')?true:false;$this.imagesLoaded(function(){$this.masonry({isRTL:isRTL})})})}$('.lsvr_document-post-archive--categorized-attachments .post-tree').each(function(){var expandSubmenuLabel=$(this).data('label-expand-submenu'),collapseSubmenuLabel=$(this).data('label-collapse-submenu');$(this).find('.post-tree__item-toggle').each(function(){var $toggle=$(this),$parent=$toggle.parent(),$submenu=$parent.find('> .post-tree__children');$toggle.on('click',function(){$toggle.toggleClass('post-tree__item-toggle--active');$parent.toggleClass('post-tree__item--active');$submenu.slideToggle(200);if($toggle.hasClass('post-tree__item-toggle--active')){$toggle.attr('aria-label',collapseSubmenuLabel);$toggle.attr('aria-expanded',true);$submenu.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandSubmenuLabel);$toggle.attr('aria-expanded',false);$submenu.attr('aria-expanded',false)}})});$(document).on('keyup.lsvrTownpressDocumentArchiveCategorizedAttachmentsCloseSubmenuOnEscKey',function(e){if(e.key==="Escape"){if($('*:focus').closest('.post-tree__item--active').length>0){$('*:focus').closest('.post-tree__item--active').each(function(){$(this).removeClass('post-tree__item--active');$(this).find('> .post-tree__children').hide();$(this).find('> .post-tree__item-toggle').removeClass('post-tree__item-toggle--active');$(this).find('> .post-tree__item-toggle').attr('aria-label',expandSubmenuLabel);$(this).find('> .post-tree__item-toggle').attr('aria-expanded',false);$(this).find('> .post-tree__children').attr('aria-expanded',false);$(this).find('> .post-tree__item-toggle').focus()})}else{$('.post-tree__item').each(function(){$(this).removeClass('header-post-tree__item--active');$(this).find('> .post-tree__children').hide();$(this).find('> .post-tree__item-toggle').removeClass('post-tree__item-toggle--active');$(this).find('> .post-tree__item-toggle').attr('aria-label',expandSubmenuLabel);$(this).find('> .post-tree__item-toggle').attr('aria-expanded',false);$(this).find('> .post-tree__children').attr('aria-expanded',false)})}}});$(document).on('lsvrTownpressScreenTransition',function(){$('.post-tree__children').removeAttr('style');$('.post-tree__item-toggle').removeClass('post-tree__item-toggle--active').attr('aria-label',expandSubmenuLabel).attr('aria-expanded',false);$('.post-tree__children').attr('aria-expanded',false)})});$('.lsvr-townpress-menu-widget__nav').each(function(){var $this=$(this),expandPopupLabel=$(this).data('label-expand-submenu'),collapsePopupLabel=$(this).data('label-collapse-submenu');function resetMenu(){$this.find('.lsvr-townpress-menu-widget__item').removeClass('lsvr-townpress-menu-widget__item--hover lsvr-townpress-menu-widget__item--active');$this.find('.lsvr-townpress-menu-widget__item-link').attr('aria-expanded',false);$this.find('.lsvr-townpress-menu-widget__submenu').removeAttr('style').attr('aria-expanded',false);$this.find('.lsvr-townpress-menu-widget__submenu-toggle').removeClass('lsvr-townpress-menu-widget__submenu-toggle--active').attr('title',expandPopupLabel).attr('aria-expanded',false)}$this.find('.lsvr-townpress-menu-widget__item-link').each(function(){$(this).on('click',function(){if($(this).parent().find('> .lsvr-townpress-menu-widget__submenu').length<1){resetMenu()}})});$(this).find('.lsvr-townpress-menu-widget__submenu--level-0, .lsvr-townpress-menu-widget__submenu--level-1').not(':visible').each(function(){var $submenu=$(this),$parent=$(this).parent(),$link=$parent.find('> .lsvr-townpress-menu-widget__item-link'),$toggle=$parent.find('> .lsvr-townpress-menu-widget__toggle');function showSubmenu(){$parent.addClass('lsvr-townpress-menu-widget__item--hover lsvr-townpress-menu-widget__item--active');$submenu.show();$link.attr('aria-expanded',true);$submenu.attr('aria-expanded',true)}function hideSubmenu(){$parent.removeClass('lsvr-townpress-menu-widget__item--hover lsvr-townpress-menu-widget__item--active');$submenu.hide();$link.attr('aria-expanded',false);$submenu.attr('aria-expanded',false)}if($.fn.lsvrTownpressGetMediaQueryBreakpoint()>991){$parent.on('mouseover focus',function(){showSubmenu()});$parent.on('mouseleave blur',function(){hideSubmenu()});$link.on('click',function(){if(!$parent.hasClass('lsvr-townpress-menu-widget__item--hover')){$parent.siblings('.lsvr-townpress-menu-widget__item--hover').each(function(){$(this).removeClass('lsvr-townpress-menu-widget__item--hover');$(this).find('> .lsvr-townpress-menu-widget__submenu').hide();$(this).find('> .lsvr-townpress-menu-widget__item-link').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__submenu').attr('aria-expanded',false)});showSubmenu();$('html').on('click.lsvrTownpressMenuWidgetCloseSubmenuOnClickOutside',function(e){hideSubmenu();$('html').unbind('click.lsvrTownpressMenuWidgetCloseSubmenuOnClickOutside')});$parent.on('click touchstart',function(e){e.stopPropagation()});return false}hideSubmenu()})}$toggle.on('click',function(){$toggle.toggleClass('lsvr-townpress-menu-widget__toggle--active');$parent.toggleClass('lsvr-townpress-menu-widget__item--active');$submenu.slideToggle(200);if($toggle.hasClass('lsvr-townpress-menu-widget__toggle--active')){$toggle.attr('aria-label',collapsePopupLabel);$toggle.attr('aria-expanded',true);$submenu.attr('aria-expanded',true)}else{$toggle.attr('aria-label',expandPopupLabel);$toggle.attr('aria-expanded',false);$submenu.attr('aria-expanded',false)}})});$(document).on('keyup.lsvrTownpressMenuWidgetCloseSubmenuOnEscKey',function(e){if(e.key==="Escape"){if($('*:focus').closest('.lsvr-townpress-menu-widget__item--active').length>0){$('*:focus').closest('.lsvr-townpress-menu-widget__item--active').each(function(){$(this).removeClass('lsvr-townpress-menu-widget__item--hover lsvr-townpress-menu-widget__item--active');$(this).find('> .lsvr-townpress-menu-widget__submenu').hide();$(this).find('> .lsvr-townpress-menu-widget__item-link').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__submenu').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__toggle').removeClass('lsvr-townpress-menu-widget__toggle--active lsvr-townpress-menu-widget__toggle--hover');$(this).find('> .lsvr-townpress-menu-widget__toggle').attr('aria-label',expandPopupLabel);$(this).find('> .lsvr-townpress-menu-widget__toggle').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__item-link').focus()})}else{$('.lsvr-townpress-menu-widget__item--active').each(function(){$(this).removeClass('lsvr-townpress-menu-widget__item--active lsvr-townpress-menu-widget__item--hover');$(this).find('> .lsvr-townpress-menu-widget__submenu').hide();$(this).find('> .lsvr-townpress-menu-widget__item-link').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__submenu').attr('aria-expanded',false);$(this).find('> .lsvr-townpress-menu-widget__toggle').removeClass('lsvr-townpress-menu-widget__toggle--active lsvr-townpress-menu-widget__toggle--hover');$(this).find('> .lsvr-townpress-menu-widget__toggle').attr('aria-label',expandPopupLabel);$(this).find('> .lsvr-townpress-menu-widget__toggle').attr('aria-expanded',false)})}}});$(document).on('lsvrTownpressScreenTransition',function(){resetMenu()})});if($.fn.owlCarousel){$('.lsvr-townpress-post-slider').each(function(){var $this=$(this),$sliderInner=$this.find('.lsvr-townpress-post-slider__inner'),$slideList=$this.find('.lsvr-townpress-post-slider__list'),$slides=$this.find('.lsvr-townpress-post-slider__post'),$indicator=$this.find('.lsvr-townpress-post-slider__indicator-inner'),slideCount=$slides.length,autoplay=$this.data('autoplay')&&parseInt($this.data('autoplay'))>0?true:false,autoplayTimeout=$this.data('autoplay')&&parseInt($this.data('autoplay'))>0?parseInt($this.data('autoplay'))*1000:0,rtl=$('html').attr('dir')&&$('html').attr('dir')=='rtl'?true:false;if(slideCount>1){$slideList.owlCarousel({rtl:rtl,autoHeight:true,loop:true,nav:true,navText:['<span class="lsvr-townpress-post-slider__indicator-icon lsvr-townpress-post-slider__indicator-icon--left icon-angle-left" aria-hidden="true"></span>','<span class="lsvr-townpress-post-slider__indicator-icon lsvr-townpress-post-slider__indicator-icon--right icon-angle-right" aria-hidden="true"></span>'],navRewind:true,dots:false,autoplay:autoplay,autoplayTimeout:autoplayTimeout,autoplayHoverPause:true,responsive:{0:{items:1}},onTranslated:function(){if(autoplay){$indicator.stop(0,0)}if(autoplay&&$.fn.lsvrTownpressGetMediaQueryBreakpoint()>991){$indicator.css('width',0);if(!$this.hasClass('lsvr-townpress-post-slider--paused')){$indicator.stop(0,0).animate({width:"100%"},autoplayTimeout)}}}});if(true===autoplay){$this.addClass('lsvr-townpress-post-slider--has-indicator');$indicator.animate({width:"100%"},autoplayTimeout,'linear');var sliderPause=function(){$this.addClass('lsvr-townpress-post-slider--paused');$indicator.stop(0,0)};var sliderResume=function(){$this.removeClass('lsvr-townpress-post-slider--paused');$indicator.stop(0,0).animate({width:"100%"},autoplayTimeout,'linear')};$this.on('mouseenter',function(){sliderPause()});$this.on('mouseleave',function(){sliderResume()});$(document).on('lsvrTownpressScreenTransition',function(){if($.fn.lsvrTownpressGetMediaQueryBreakpoint()<=991){sliderPause()}});if($.fn.lsvrTownpressGetMediaQueryBreakpoint()<=991){sliderPause()}}}})}$('.back-to-top__link').each(function(){$(this).on('click',function(){$('html, body').animate({scrollTop:0},100);return false})});if($.fn.magnificPopup){if('undefined'!==typeof lsvr_townpress_js_labels&&lsvr_townpress_js_labels.hasOwnProperty('magnific_popup')){var js_strings=lsvr_townpress_js_labels.magnific_popup;$.extend(true,$.magnificPopup.defaults,{tClose:js_strings.mp_tClose,tLoading:js_strings.mp_tLoading,gallery:{tPrev:js_strings.mp_tPrev,tNext:js_strings.mp_tNext,tCounter:'%curr% / %total%'},image:{tError:js_strings.mp_image_tError},ajax:{tError:js_strings.mp_ajax_tError}})}$('.lsvr-open-in-lightbox, body:not( .elementor-page ) .gallery .gallery-item a, .wp-block-gallery .blocks-gallery-item a').magnificPopup({type:'image',removalDelay:300,mainClass:'mfp-fade',gallery:{enabled:true}})}})})(jQuery);(function($){"use strict";if(!$.fn.lsvrTownpressGetMediaQueryBreakpoint){$.fn.lsvrTownpressGetMediaQueryBreakpoint=function(){if($('#lsvr-media-query-breakpoint').length<1){$('body').append('<span id="lsvr-media-query-breakpoint" style="display: none;"></span>')}var value=$('#lsvr-media-query-breakpoint').css('font-family');if(typeof value!=='undefined'){value=value.replace("\"","").replace("\"","").replace("\'","").replace("\'","")}if(isNaN(value)){return $(window).width()}else{return parseInt(value)}}}var lsvrTownpressMediaQueryBreakpoint;if($.fn.lsvrTownpressGetMediaQueryBreakpoint){lsvrTownpressMediaQueryBreakpoint=$.fn.lsvrTownpressGetMediaQueryBreakpoint();$(window).on('resize',function(){if($.fn.lsvrTownpressGetMediaQueryBreakpoint()!==lsvrTownpressMediaQueryBreakpoint){lsvrTownpressMediaQueryBreakpoint=$.fn.lsvrTownpressGetMediaQueryBreakpoint();$.event.trigger({type:'lsvrTownpressScreenTransition',message:'Screen transition completed.',time:new Date()})}})}else{lsvrTownpressMediaQueryBreakpoint=$(document).width()}if(!$.fn.lsvrTownpressMapLeaflet){$.fn.lsvrTownpressMapLeaflet=function(){var $this=$(this),mapProvider=$this.data('map-provider')?$this.data('map-provider'):'osm',zoom=$this.data('zoom')?$this.data('zoom'):17,enableMouseWheel=$this.data('mousewheel')&&true===String($this.data('mousewheel'))?true:false,elementId=$this.attr('id'),address=$this.data('address')?$this.data('address'):false,latLong=$this.data('latlong')?$this.data('latlong'):false,latitude=false,longitude=false;if(false!==latLong){var latLongArr=latLong.split(',');if(latLongArr.length==2){latitude=latLongArr[0].trim();longitude=latLongArr[1].trim()}}if(false!==latitude&&false!==longitude){var mapOptions={center:[latitude,longitude],zoom:zoom,scrollWheelZoom:enableMouseWheel};var map=L.map(elementId,mapOptions);$this.data('map',map);if('mapbox'===mapProvider){var apiKey=typeof lsvr_townpress_mapbox_api_key!=='undefined'?lsvr_townpress_mapbox_api_key:false;if(false!==apiKey){L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token='+apiKey,{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:'mapbox/streets-v11',tileSize:512,zoomOffset:-1,accessToken:apiKey}).addTo(map)}}else if('osm'===mapProvider){L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:['a','b','c']}).addTo(map)}var marker=L.divIcon({iconAnchor:[15,40],className:'c-map__marker-wrapper',html:'<div class="c-map__marker"><div class="c-map__marker-inner"></div></div>'});L.marker([latitude,longitude],{icon:marker}).addTo(map);$this.removeClass('c-map__canvas--loading');$this.parent().find('.c-spinner').fadeOut(200,function(){$(this).remove()})}else{$this.hide()}}}if(!$.fn.lsvrTownpressMapGmaps){$.fn.lsvrTownpressMapGmaps=function(){var $this=$(this),mapType=$this.data('maptype')?$this.data('maptype'):'terrain',zoom=$this.data('zoom')?$this.data('zoom'):17,enableMouseWheel=$this.data('mousewheel')&&true===String($this.data('mousewheel'))?true:false,elementId=$this.attr('id'),address=$this.data('address')?$this.data('address'):false,latLong=$this.data('latlong')?$this.data('latlong'):false,latitude=false,longitude=false;if(false!==latLong){var latLongArr=latLong.split(',');if(latLongArr.length==2){latitude=latLongArr[0].trim();longitude=latLongArr[1].trim()}}if($.fn.lsvrTownpressLoadGoogleMapsApi){$.fn.lsvrTownpressLoadGoogleMapsApi()}var apiSetup=function(){switch(mapType){case 'roadmap':mapType=google.maps.MapTypeId.ROADMAP;break;case 'satellite':mapType=google.maps.MapTypeId.SATELLITE;break;case 'hybrid':mapType=google.maps.MapTypeId.HYBRID;break;default:mapType=google.maps.MapTypeId.TERRAIN}var mapOptions={'zoom':zoom,'mapTypeId':mapType,'scrollwheel':enableMouseWheel};if('undefined'!==typeof lsvr_townpress_google_maps_style_json){mapOptions.styles=JSON.parse(lsvr_townpress_google_maps_style_json)}else if('undefined'!==typeof lsvr_townpress_google_maps_style){mapOptions.styles=lsvr_townpress_google_maps_style}var map=new google.maps.Map(document.getElementById(elementId),mapOptions);$this.data('map',map);if(false!==latitude&&false!==longitude){var location=new google.maps.LatLng(latitude,longitude);map.setCenter(location);var marker=new google.maps.Marker({position:location,map:map});$this.removeClass('c-map__canvas--loading');$this.parent().find('.c-spinner').fadeOut(200,function(){$(this).remove()})}else{$this.hide()}};if('object'===typeof google&&'object'===typeof google.maps){apiSetup()}else{$(document).on('lsvrTownpressGoogleMapsApiLoaded',function(){apiSetup()})}}}if(!$.fn.lsvrTownpressLoadGoogleMapsApi){$.fn.lsvrTownpressLoadGoogleMapsApi=function(){if(!$('body').hasClass('lsvr-google-maps-api-loaded')){if('object'===typeof google&&'object'===typeof google.maps){$.fn.lsvrTownpressGoogleMapsApiLoaded()}else if(!$('body').hasClass('lsvr-google-maps-api-being-loaded')){$('body').addClass('lsvr-google-maps-api-being-loaded');var script=document.createElement('script'),apiKey=typeof lsvr_townpress_google_api_key!=='undefined'?lsvr_townpress_google_api_key:false,language=$('html').attr('lang')?$('html').attr('lang'):'en';language=language.indexOf('-')>0?language.substring(0,language.indexOf('-')):language;if(apiKey!==false){script.type='text/javascript';script.src='https://maps.googleapis.com/maps/api/js?language='+encodeURIComponent(language)+'&key='+encodeURIComponent(apiKey)+'&callback=jQuery.fn.lsvrTownpressGoogleMapsApiLoaded';document.body.appendChild(script)}}}}}if(!$.fn.lsvrTownpressGoogleMapsApiLoaded){$.fn.lsvrTownpressGoogleMapsApiLoaded=function(){if('object'===typeof google&&'object'===typeof google.maps){$.event.trigger({type:'lsvrTownpressGoogleMapsApiLoaded',message:'Google Maps API is ready.',time:new Date()});$('body').removeClass('lsvr-google-maps-api-being-loaded');$('body').addClass('lsvr-google-maps-api-loaded')}}}})(jQuery);